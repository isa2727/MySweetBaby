<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>❤️ Kübra ❤️</title>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    background: radial-gradient(circle at center, #1a1a2e, #0f0c29);
    font-family: Arial, sans-serif;
    overflow:hidden;
    touch-action: manipulation;
}

h1{
    position:absolute;
    top:40px;
    font-size:30px;
    color:#ff2e63;
    text-shadow:0 0 10px #ff2e63,0 0 20px #ff2e63;
}

.area{
    position:relative;
    width:100%;
    height:100%;
}

.heart{
    position:absolute;
    width:70px;
    height:70px;
    transform: rotate(-45deg);
    cursor:pointer;
    animation: pulse 1.4s infinite ease-in-out;
}

.heart::before,
.heart::after{
    content:"";
    position:absolute;
    width:70px;
    height:70px;
    background:inherit;
    border-radius:50%;
}

.heart::before{ top:-35px; left:0; }
.heart::after{ left:35px; top:0; }

@keyframes pulse{
    0%,100%{ transform: rotate(-45deg) scale(1); }
    50%{ transform: rotate(-45deg) scale(1.2); }
}

.particle{
    position:absolute;
    width:8px;
    height:8px;
    border-radius:50%;
    pointer-events:none;
}

.final-message{
    position:absolute;
    bottom:60px;
    font-size:24px;
    color:white;
    text-align:center;
    opacity:0;
    transition:opacity 1s;
    text-shadow:0 0 10px #fff,0 0 20px #ff2e63;
}
</style>
</head>

<body>

<h1> ❤️Seni Çoooook Seviyorum❤️</h1>
<div class="area" id="area"></div>
<div class="final-message" id="finalMsg">
 ❤️ Kalbimdesin ❤️
</div>

<script>
const area = document.getElementById("area");
const finalMsg = document.getElementById("finalMsg");
let audioCtx;
let score = 0;

const notes = {
    red: 523.25,     // C
    pink: 659.25,    // E
    purple: 783.99,  // G
    blue: 880        // A
};

const colors = [
    {name:"red", value:"#ff2e63"},
    {name:"pink", value:"#ff00c8"},
    {name:"purple", value:"#8338ec"},
    {name:"blue", value:"#00f5ff"}
];

function initAudio(){
    if(!audioCtx){
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
}

function playNote(freq){
    if(!audioCtx) return;

    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();

    osc.type = "sine";
    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);

    gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.4);

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    osc.start();
    osc.stop(audioCtx.currentTime + 0.4);
}

function createHeart(){
    const heart = document.createElement("div");
    heart.className="heart";

    const colorObj = colors[Math.floor(Math.random()*colors.length)];
    heart.style.background=colorObj.value;
    heart.dataset.note = notes[colorObj.name];

    heart.style.left=Math.random()*(window.innerWidth-80)+"px";
    heart.style.top=Math.random()*(window.innerHeight-200)+120+"px";

    heart.addEventListener("click", ()=>{ initAudio(); explode(heart); });
    heart.addEventListener("touchstart", ()=>{ initAudio(); explode(heart); });

    area.appendChild(heart);
}

function explode(heart){
    playNote(parseFloat(heart.dataset.note));
    score++;

    const rect = heart.getBoundingClientRect();
    const centerX = rect.left + rect.width/2;
    const centerY = rect.top + rect.height/2;

    for(let i=0;i<15;i++){
        const p=document.createElement("div");
        p.className="particle";
        p.style.background=heart.style.background;
        p.style.left=centerX+"px";
        p.style.top=centerY+"px";
        area.appendChild(p);

        const angle=Math.random()*2*Math.PI;
        const distance=60+Math.random()*40;

        const x=Math.cos(angle)*distance;
        const y=Math.sin(angle)*distance;

        p.animate([
            { transform:"translate(0,0)", opacity:1 },
            { transform:`translate(${x}px,${y}px)`, opacity:0 }
        ],{
            duration:600,
            easing:"ease-out"
        });

        setTimeout(()=>p.remove(),600);
    }

    heart.remove();
    createHeart();

    if(score >= 15){
        finalMsg.style.opacity = 1;
    }
}

for(let i=0;i<5;i++){
    createHeart();
}
</script>

</body>
</html>