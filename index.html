<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ù§Ô∏è K√ºbra ‚ù§Ô∏è</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: radial-gradient(circle at center, #0f0c29, #1a1a2e, #000);
    font-family:'Segoe UI',sans-serif;
    overflow:hidden;
    color:white;
    position:relative;
}

/* Yƒ±ldƒ±zlƒ± arka plan */
body::before{
    content:"";
    position:absolute;
    inset:0;
    background:url("https://www.transparenttextures.com/patterns/stardust.png");
    animation: stars 80s linear infinite;
    opacity:0.25;
}
@keyframes stars{
    from{transform:translate(0,0)}
    to{transform:translate(-600px,-600px)}
}

h1{
    position:absolute;
    top:30px;
    width:90%;
    text-align:center;
    font-size:clamp(20px,4vw,34px);
    background:linear-gradient(45deg,#ff2e63,#ff00c8,#00f5ff);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    text-shadow:0 0 20px rgba(255,0,100,0.6);
    animation: glowTitle 3s infinite alternate;
}
@keyframes glowTitle{
    from{filter:brightness(1)}
    to{filter:brightness(1.4)}
}

.area{
    position:relative;
    width:100vw;
    height:100vh;
    overflow:hidden;
}

/* Kalp */
.heart{
    position:absolute;
    width:70px;
    height:70px;
    transform:rotate(-45deg);
    cursor:pointer;
    animation:pulse 1.4s infinite ease-in-out;
    filter:drop-shadow(0 0 10px currentColor)
           drop-shadow(0 0 25px currentColor);
}

.heart::before,
.heart::after{
    content:"";
    position:absolute;
    width:70px;
    height:70px;
    background:inherit;
    border-radius:50%;
}

.heart::before{top:-35px}
.heart::after{left:35px}

@keyframes pulse{
    0%,100%{transform:rotate(-45deg) scale(1)}
    50%{transform:rotate(-45deg) scale(1.15)}
}

.particle{
    position:absolute;
    width:8px;
    height:8px;
    border-radius:50%;
    pointer-events:none;
}

/* üíñ Final Yazƒ± */
.final-message{
    position:fixed;
    bottom:25px;
    left:50%;
    transform:translateX(-50%) scale(0.8);
    padding:18px 45px;
    font-size:clamp(18px,4vw,28px);
    border-radius:40px;
    backdrop-filter:blur(20px);
    background:rgba(255,255,255,0.08);
    border:1px solid rgba(255,255,255,0.25);
    box-shadow:0 0 25px rgba(255,0,120,0.5);
    opacity:0;
    transition:all 1.2s ease;
    text-align:center;
    letter-spacing:1px;
    font-weight:600;
}

.final-message.show{
    opacity:1;
    transform:translateX(-50%) scale(1);
    box-shadow:0 0 35px rgba(255,0,150,0.8);
    animation:finalGlow 2s infinite alternate;
}

@keyframes finalGlow{
    from{filter:brightness(1)}
    to{filter:brightness(1.3)}
}

/* Mobil k√º√ß√ºltme */
@media(max-width:768px){
    .heart{
        width:55px;
        height:55px;
    }
    .heart::before,
    .heart::after{
        width:55px;
        height:55px;
    }
    .heart::before{top:-27px}
    .heart::after{left:27px}
}
.confetti{
    position:absolute;
    width:6px;
    height:12px;
    pointer-events:none;
}
</style>
</head>

<body>

<h1>‚ù§Ô∏è Benim tatlƒ± g√ºzel bebeƒüim ‚ù§Ô∏è</h1>

<div class="area" id="area"></div>

<div class="final-message" id="finalMsg">
    ‚ú® Sonsuza Dek Sen ‚ú®
</div>

<script>
const area = document.getElementById("area");
const finalMsg = document.getElementById("finalMsg");

let audioCtx;
let score = 0;

const notes = {
    red: 523.25,
    pink: 659.25,
    purple: 783.99,
    blue: 880
};

const colors = [
    {name:"red", value:"#ff2e63"},
    {name:"pink", value:"#ff00c8"},
    {name:"purple", value:"#8338ec"},
    {name:"blue", value:"#00f5ff"}
];

function initAudio(){
    if(!audioCtx){
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
}

function playNote(freq){
    if(!audioCtx) return;

    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();

    osc.type = "sine";
    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);

    gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.4);

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    osc.start();
    osc.stop(audioCtx.currentTime + 0.4);
}

function createHeart(){
    const heart = document.createElement("div");
    heart.className="heart";

    const colorObj = colors[Math.floor(Math.random()*colors.length)];
    heart.style.background=colorObj.value;
    heart.style.color=colorObj.value;
    heart.dataset.note = notes[colorObj.name];

    heart.style.left=Math.random()*(area.clientWidth-80)+"px";
    heart.style.top=Math.random()*(area.clientHeight-200)+120+"px";

    heart.addEventListener("click", ()=>{ initAudio(); explode(heart); });
    heart.addEventListener("touchstart", ()=>{ initAudio(); explode(heart); });

    area.appendChild(heart);
}

function explode(heart){
    playNote(parseFloat(heart.dataset.note));
    score++;

    const rect = heart.getBoundingClientRect();
    const centerX = rect.left + rect.width/2;
    const centerY = rect.top + rect.height/2;

    for(let i=0;i<20;i++){
        const p=document.createElement("div");
        p.className="particle";
        p.style.background=heart.style.background;
        p.style.left=centerX+"px";
        p.style.top=centerY+"px";
        area.appendChild(p);

        const angle=Math.random()*2*Math.PI;
        const distance=80+Math.random()*50;

        const x=Math.cos(angle)*distance;
        const y=Math.sin(angle)*distance;

        p.animate([
            { transform:"translate(0,0)", opacity:1 },
            { transform:`translate(${x}px,${y}px)`, opacity:0 }
        ],{
            duration:700,
            easing:"ease-out"
        });

        setTimeout(()=>p.remove(),700);
    }

    heart.remove();
    createHeart();

    if(score >= 10){
        finalMsg.classList.add("show");
        createConfetti();
    }
}

function createConfetti(){
    for(let i=0;i<20;i++){
        const c=document.createElement("div");
        c.className="confetti";
        c.style.left=Math.random()*window.innerWidth+"px";
        c.style.top="-20px";
        c.style.background=colors[Math.floor(Math.random()*colors.length)].value;
        document.body.appendChild(c);

        const fall=Math.random()*window.innerHeight+200;

        c.animate([
            {transform:"translateY(0) rotate(0deg)"},
            {transform:`translateY(${fall}px) rotate(720deg)`}
        ],{
            duration:3000+Math.random()*2000,
            easing:"linear"
        });

        setTimeout(()=>c.remove(),5000);
    }
}

for(let i=0;i<6;i++){
    createHeart();
}
</script>

</body>
</html>