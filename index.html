<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>K√ºbra ‚ù§Ô∏è</title>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    background: radial-gradient(circle at center, #1a1a2e, #0f0c29);
    font-family: Arial, sans-serif;
    overflow:hidden;
    touch-action: manipulation;
}

h1{
    position:absolute;
    top:50px;
    font-size:32px;
    color:#ff2e63;
    text-shadow:
        0 0 5px #ff2e63,
        0 0 15px #ff2e63,
        0 0 30px #ff2e63;
}

.area{
    position:relative;
    width:100%;
    height:100%;
}

.heart{
    position:absolute;
    width:70px;
    height:70px;
    transform: rotate(-45deg);
    cursor:pointer;
    animation: pulse 1.4s infinite ease-in-out;
}

.heart::before,
.heart::after{
    content:"";
    position:absolute;
    width:70px;
    height:70px;
    background:inherit;
    border-radius:50%;
}

.heart::before{ top:-35px; left:0; }
.heart::after{ left:35px; top:0; }

@keyframes pulse{
    0%,100%{ transform: rotate(-45deg) scale(1); }
    50%{ transform: rotate(-45deg) scale(1.2); }
}

.particle{
    position:absolute;
    width:8px;
    height:8px;
    border-radius:50%;
    pointer-events:none;
}
</style>
</head>

<body>

<h1>K√ºbra Seni √áok √áok Seviyorum ‚ù§Ô∏è</h1>
<div class="area" id="area"></div>

<script>
const area = document.getElementById("area");
let audioCtx;

function initAudio(){
    if(!audioCtx){
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
}

// üíñ Tatlƒ± "pling" sesi
function playCuteSound(){
    if(!audioCtx) return;

    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();

    osc.type = "sine"; // yumu≈üak ton
    osc.frequency.setValueAtTime(880, audioCtx.currentTime); // y√ºksek tatlƒ± frekans
    osc.frequency.exponentialRampToValueAtTime(1320, audioCtx.currentTime + 0.15);

    gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.3);

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    osc.start();
    osc.stop(audioCtx.currentTime + 0.3);
}

function randomColor(){
    return `hsl(${Math.random()*360}, 90%, 60%)`;
}

function createHeart(){
    const heart = document.createElement("div");
    heart.className="heart";
    heart.style.background=randomColor();
    heart.style.left=Math.random()*(window.innerWidth-80)+"px";
    heart.style.top=Math.random()*(window.innerHeight-150)+100+"px";

    heart.addEventListener("click", ()=>{ initAudio(); explode(heart); });
    heart.addEventListener("touchstart", ()=>{ initAudio(); explode(heart); });

    area.appendChild(heart);
}

function explode(heart){
    playCuteSound();

    const rect = heart.getBoundingClientRect();
    const centerX = rect.left + rect.width/2;
    const centerY = rect.top + rect.height/2;

    for(let i=0;i<15;i++){
        const p=document.createElement("div");
        p.className="particle";
        p.style.background=randomColor();
        p.style.left=centerX+"px";
        p.style.top=centerY+"px";
        area.appendChild(p);

        const angle=Math.random()*2*Math.PI;
        const distance=60+Math.random()*40;

        const x=Math.cos(angle)*distance;
        const y=Math.sin(angle)*distance;

        p.animate([
            { transform:"translate(0,0)", opacity:1 },
            { transform:`translate(${x}px,${y}px)`, opacity:0 }
        ],{
            duration:600,
            easing:"ease-out"
        });

        setTimeout(()=>p.remove(),600);
    }

    heart.remove();
    createHeart();
}

for(let i=0;i<5;i++){
    createHeart();
}
</script>

</body>
</html>